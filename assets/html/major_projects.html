<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Submit project</title>

		<script src="https://cdn.tailwindcss.com"></script>
		<link rel="icon" sizes="32x32" href="../../favicon.ico" />
		<link rel="manifest" href="../../manifest.webmanifest" />

		<style>
			.hide{
				display: none;
			}
		</style>
	</head>
	<body>
		<header id="top" class="text-gray-600 body-font ">
			<div
				class="
					container
					mx-auto
					flex flex-wrap
					pr-5
					pl-5
					pt-3
					pb-3
					flex-col
					md:flex-row
					items-center
				"
			>
				<a
					class="
						flex
						title-font
						font-medium
						items-center
						text-gray-900
						align-middle
						md:mb-0
					"
					href="../../index.html"
				>
				<img src="../img/IEEE RAS LOGO (1).png" class="w-28 h-18" alt="IEEE RAS LOGO">
				</a>
				<nav
					class="
						md:ml-auto
						flex flex-wrap
						items-center
						text-base
						justify-center
					"
				>
					<a class="mr-5 hover:text-gray-900" href="../../index.html">Home</a>
					<a class="mr-5 hover:text-gray-900" href="../html/team.html">Our Team</a>
					<a class="mr-5 hover:text-gray-900" href="../html/archive.html">Events</a>
				</nav>
				
		</header>
		<section class="text-gray-600 body-font relative bg-gray-200">
			<div class="container  mx-auto">
				<div class="flex flex-col text-center w-full mb-12">
					<h1
						class="
							sm:text-3xl
							text-2xl
							font-medium
							title-font
							mb-4
							text-gray-900
						"
					>
						Have an idea? Turn it into reality here
					</h1>
					<p class="lg:w-2/3 mx-auto leading-relaxed text-base">
						Just fill out this form
					</p>
				</div>
				<div class="lg:w-1/2 md:w-2/3 mx-auto">
					<div class="flex flex-wrap -m-2">
						<div id="error_msg" class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 w-full hide" role="alert">
							<p class="font-bold">OOPS something is worng!</p>
							<p>Check whether the entered data is correct or not and try again</p>
						</div>
						<div id="success_msg" class="bg-green-100 border-l-4 border-green-500 text-green-700 p-4 w-full hide" role="alert">
							<p class="font-bold">Your project details has been submitted successfully!</p>
							<p>You will be redirected to Home Page in 7 secs</p>
						</div>
						<div class="p-2 w-1/2 mb-3">
							<div class="relative">
								<label
									for="name"
									class="leading-7 text-sm text-black ml-1 mb-0"
									>Name</label
								>
								<input
									type="text"
									id="name"
									name="name"
									class="
										w-full
										bg-gray-100 bg-opacity-95
										rounded
										border border-gray-300
										focus:border-indigo-500
										focus:bg-white
										focus:ring-2
										focus:ring-indigo-200
										text-base
										outline-none
										text-gray-700
										py-1
										px-3
										leading-8
										transition-colors
										duration-200
										ease-in-out
									"
								/>
							</div>
						</div>
						<div class="p-2 w-1/2 mb-3">
							<div class="relative">
								<label
									for="srn"
									class="leading-7 text-sm text-black ml-1 mb-0"
									>SRN</label
								>
								<input
									type="text"
									id="srn"
									name="srn"
									class="
										w-full
										bg-gray-100 bg-opacity-95
										rounded
										border border-gray-300
										focus:border-indigo-500
										focus:bg-white
										focus:ring-2
										focus:ring-indigo-200
										text-base
										outline-none
										text-gray-700
										py-1
										px-3
										leading-8
										transition-colors
										duration-200
										ease-in-out
									"
								/>
							</div>
						</div>
						<div class="p-2 w-1/2">
							<div class="relative">
								<label
									for="dept"
									class="leading-7 text-sm text-black ml-1 mb-0"
									>Department</label
								>
								<select name="dept" id="dept" 
								class="w-full
								bg-gray-100 bg-opacity-95
								rounded
								border border-gray-300
								focus:border-indigo-500
								focus:bg-white
								focus:ring-2
								focus:ring-indigo-200
								text-base
								outline-none
								text-gray-700
								py-1
								px-3
								leading-8
								transition-colors
								duration-200
								ease-in-out"
								>
									<option></option>
									<option value="CS">Computer Science</option>
									<option value="EC">Electronics and Communication</option>
									<option value="EE">Electronics and Electrical</option>
									<option value="ME">Mechanical</option>
									<option value="CE">Civil</option>
									<option value="BT">Bio-tech</option>
								</select>
							</div>
						</div>
						<div class="p-2 w-1/2"></div>
						<div class="p-2 w-1/2 mb-3">
							<div class="relative">
								<label
									for="email"
									class="leading-7 text-sm text-black ml-1 mb-0"
									>Email</label
								>
								<input
									type="email"
									id="email"
									name="email"
									class="
										w-full
										bg-gray-100 bg-opacity-95
										rounded
										border border-gray-300
										focus:border-indigo-500
										focus:bg-white
										focus:ring-2
										focus:ring-indigo-200
										text-base
										outline-none
										text-gray-700
										py-1
										px-3
										leading-8
										transition-colors
										duration-200
										ease-in-out
									"
								/>
							</div>
						</div>
						<div class="p-2 w-1/2 mb-3">
							<div class="relative">
								<label
									for="phone"
									class="leading-7 text-sm text-black ml-1 mb-0"
									>Phone Number</label
								>
								<input
									type="number"
									id="phone"
									name="phone"
									class="
										w-full
										bg-gray-100 bg-opacity-95
										rounded
										border border-gray-300
										focus:border-indigo-500
										focus:bg-white
										focus:ring-2
										focus:ring-indigo-200
										text-base
										outline-none
										text-gray-700
										py-1
										px-3
										leading-8
										transition-colors
										duration-200
										ease-in-out
									"
								/>
							</div>
						</div>
						<div class="p-2 w-1/2 mb-3">
							<div class="relative">
								<label
									for="title"
									class="leading-7 text-sm text-black ml-1 mb-0"
									>Project Title</label
								>
								<input
									type="text"
									id="title"
									name="title"
									class="
										w-full
										bg-gray-100 bg-opacity-95
										rounded
										border border-gray-300
										focus:border-indigo-500
										focus:bg-white
										focus:ring-2
										focus:ring-indigo-200
										text-base
										outline-none
										text-gray-700
										py-1
										px-3
										leading-8
										transition-colors
										duration-200
										ease-in-out
									"
								/>
							</div>
						</div>
						<div class="p-2 w-full">
							<div class="relative">
								<label
									for="requirements"
									class="leading-7 text-sm text-black mb-0 ml-1"
									>Hardware Components Required</label
								>
								<textarea
									id="requirements"
									name="requirements"
									class="
										w-full
										bg-gray-100 bg-opacity-95
										rounded
										border border-gray-300
										focus:border-indigo-500
										focus:bg-white
										focus:ring-2
										focus:ring-indigo-200
										h-20
										text-base
										outline-none
										text-gray-700
										py-1
										px-3
										resize-none
										leading-6
										transition-colors
										duration-200
										ease-in-out
									"
								></textarea>
							</div>
						</div>
						<div class="p-2 w-full">
							<div class="relative">
								<label
									for="description"
									class="leading-7 text-sm text-black mb-0 ml-1"
									>Project description</label
								>
								<textarea
									id="description"
									name="description"
									class="
										w-full
										bg-gray-100 bg-opacity-95
										rounded
										border border-gray-300
										focus:border-indigo-500
										focus:bg-white
										focus:ring-2
										focus:ring-indigo-200
										h-44
										text-base
										outline-none
										text-gray-700
										py-1
										px-3
										resize-none
										leading-6
										transition-colors
										duration-200
										ease-in-out
									"
								></textarea>
							</div>
						</div>
						<div class="p-2 w-full">
							<button
								class="
									flex
									mx-auto
									text-white
									bg-gray-700
									border-0
									py-2
									px-8
									focus:outline-none
									hover:bg-black
									rounded
									text-lg
								"
								onclick="handleClick(event)"
							>
								Submit
							</button>
						</div>
						
					</div>
				</div>
			</div>
		</section>
		<script>
			const handleClick=(e)=>{
				e.preventDefault()

				let error_msg=document.getElementById("error_msg")
				let success_msg=document.getElementById("success_msg")
				let name=document.getElementById("name")
				let srn=document.getElementById("srn")
				let dept=document.getElementById("dept")
				let email=document.getElementById("email")
				let title=document.getElementById("title")
				let requirements=document.getElementById("requirements")
				let description=document.getElementById("description")
				let phone=document.getElementById("phone")
				
				let details={
					"name":name.value,
					"email":email.value,
					"srn":srn.value,
					"phone":phone.value,
					"department":dept.value,
					"project_title":title.value,
					"project_description":description.value,
					"components":requirements.value
				}
				// console.log(details)
				fetch("http://157.245.78.79/mega-projects/", {
     				method: "POST",
					body: JSON.stringify(details),
					headers: {
						"Content-type": "application/json; charset=UTF-8"
					}
				})
				.then(response => {
					response.json();
					if(response.status===422 || response.status===400){
						window.location.href = "#top";
						success_msg.classList.add("hide");
						error_msg.classList.remove("hide");
					}
					else{
						window.location.href = "#top";
						error_msg.classList.add("hide")
						success_msg.classList.remove("hide");	
						setTimeout(()=>{
							window.location.href = "/";
						},7000)
					}
				})
				.catch(err=>{
					console.log(err);
					success_msg.classList.add("hide");
					error_msg.classList.remove("hide");
				})

			}
		</script>
	</body>
</html>
